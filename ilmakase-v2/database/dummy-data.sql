-- 더미 데이터 삽입
-- User ID: 9b50a329-48f1-4569-b5de-c93d51d7affb

-- 1. 사용자 정보
INSERT INTO users (id, email, name, situation, main_work, plan)
VALUES (
  '9b50a329-48f1-4569-b5de-c93d51d7affb',
  'test@example.com',
  '테스트 유저',
  'working',
  'PM/기획',
  'free'
) ON CONFLICT (id) DO UPDATE SET name = '테스트 유저';

-- 2. 프로젝트 생성
INSERT INTO projects (id, user_id, name, description, status, start_date, keywords) VALUES
('11111111-1111-1111-1111-111111111111', '9b50a329-48f1-4569-b5de-c93d51d7affb', '도매 플랫폼 런칭', 'B2B 도매 플랫폼 신규 구축 프로젝트', '진행중', '2025-01-01', ARRAY['도매', '플랫폼', 'B2B']),
('22222222-2222-2222-2222-222222222222', '9b50a329-48f1-4569-b5de-c93d51d7affb', '내부 시스템 개선', '사내 업무 시스템 UX 개선', '진행중', '2025-01-10', ARRAY['내부', '시스템', 'UX']),
('33333333-3333-3333-3333-333333333333', '9b50a329-48f1-4569-b5de-c93d51d7affb', '모바일 앱 리뉴얼', '기존 앱 전면 리디자인', '완료', '2024-10-01', ARRAY['앱', '모바일', '리뉴얼']);

-- 3. 태스크 생성
INSERT INTO tasks (id, project_id, user_id, name, status) VALUES
-- 도매 플랫폼
('aaaa1111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111', '9b50a329-48f1-4569-b5de-c93d51d7affb', '시스템 기획', '진행중'),
('aaaa2222-2222-2222-2222-222222222222', '11111111-1111-1111-1111-111111111111', '9b50a329-48f1-4569-b5de-c93d51d7affb', 'API 검토', '진행중'),
('aaaa3333-3333-3333-3333-333333333333', '11111111-1111-1111-1111-111111111111', '9b50a329-48f1-4569-b5de-c93d51d7affb', '개발사 커뮤니케이션', '진행중'),
-- 내부 시스템
('bbbb1111-1111-1111-1111-111111111111', '22222222-2222-2222-2222-222222222222', '9b50a329-48f1-4569-b5de-c93d51d7affb', 'UX 리서치', '완료'),
('bbbb2222-2222-2222-2222-222222222222', '22222222-2222-2222-2222-222222222222', '9b50a329-48f1-4569-b5de-c93d51d7affb', '화면 설계', '진행중');

-- 4. 일일 로그 (최근 7일) - 중복 시 업데이트
INSERT INTO daily_logs (user_id, log_date, raw_content, parsed_tasks_count, completion_rate) VALUES
('9b50a329-48f1-4569-b5de-c93d51d7affb', CURRENT_DATE - 6, E'#도매플랫폼 관리자 어드민 요구사항 정리\n#도매플랫폼 판매자 대시보드 플로우 작성\n[x] #회의 주간 스프린트 미팅', 3, 33),
('9b50a329-48f1-4569-b5de-c93d51d7affb', CURRENT_DATE - 5, E'[x] #도매플랫폼 API 명세서 검토\n[x] #도매플랫폼 결제 API 리뷰\n#내부시스템 UX 리서치 자료 정리', 3, 66),
('9b50a329-48f1-4569-b5de-c93d51d7affb', CURRENT_DATE - 4, E'[x] #도매플랫폼 개발사 미팅 아젠다 작성\n[x] #도매플랫폼 주문 API 보안 이슈 검토\n[x] #내부시스템 사용자 인터뷰 진행', 3, 100),
('9b50a329-48f1-4569-b5de-c93d51d7affb', CURRENT_DATE - 3, E'#도매플랫폼 구매자 앱 화면 정의서 작성\n[50] #내부시스템 화면 설계 초안\n[x] #회의 개발팀 싱크업', 3, 33),
('9b50a329-48f1-4569-b5de-c93d51d7affb', CURRENT_DATE - 2, E'[x] #도매플랫폼 요구사항 우선순위 정리\n[x] #도매플랫폼 보안 이슈 해결 방안 논의\n#내부시스템 프로토타입 제작', 3, 66),
('9b50a329-48f1-4569-b5de-c93d51d7affb', CURRENT_DATE - 1, E'[x] #도매플랫폼 일정 지연 이슈 해결\n[80] #내부시스템 프로토타입 피드백 반영\n#회의 주간 회고', 3, 33),
('9b50a329-48f1-4569-b5de-c93d51d7affb', CURRENT_DATE, E'#도매플랫폼 QA 시나리오 작성\n#내부시스템 디자인 시스템 정리\n#회의 스프린트 플래닝', 3, 0)
ON CONFLICT (user_id, log_date) DO UPDATE SET
  raw_content = EXCLUDED.raw_content,
  parsed_tasks_count = EXCLUDED.parsed_tasks_count,
  completion_rate = EXCLUDED.completion_rate;

-- 5. 업무 기록 (work_logs)
INSERT INTO work_logs (user_id, project_id, task_id, content, detail, work_date, progress, is_completed, keywords) VALUES
-- 6일 전
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa1111-1111-1111-1111-111111111111', '관리자 어드민 요구사항 정리', '요구사항 30개 정리 완료, 우선순위 분류', CURRENT_DATE - 6, 100, true, ARRAY['도매플랫폼', '기획']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa1111-1111-1111-1111-111111111111', '판매자 대시보드 플로우 작성', NULL, CURRENT_DATE - 6, 70, false, ARRAY['도매플랫폼', '기획']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', NULL, NULL, '주간 스프린트 미팅', '이번 주 목표 설정, 블로커 논의', CURRENT_DATE - 6, 100, true, ARRAY['회의']),
-- 5일 전
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa2222-2222-2222-2222-222222222222', 'API 명세서 검토', '결제/주문/상품 API 15건 검토', CURRENT_DATE - 5, 100, true, ARRAY['도매플랫폼', 'API']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa2222-2222-2222-2222-222222222222', '결제 API 리뷰', '보안 취약점 2건 발견', CURRENT_DATE - 5, 100, true, ARRAY['도매플랫폼', 'API']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '22222222-2222-2222-2222-222222222222', 'bbbb1111-1111-1111-1111-111111111111', 'UX 리서치 자료 정리', NULL, CURRENT_DATE - 5, 50, false, ARRAY['내부시스템', 'UX']),
-- 4일 전
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa3333-3333-3333-3333-333333333333', '개발사 미팅 아젠다 작성', '주요 논의사항 5개 정리', CURRENT_DATE - 4, 100, true, ARRAY['도매플랫폼', '커뮤니케이션']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa2222-2222-2222-2222-222222222222', '주문 API 보안 이슈 검토', '인증 토큰 만료 처리 개선 필요', CURRENT_DATE - 4, 100, true, ARRAY['도매플랫폼', 'API', '보안']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '22222222-2222-2222-2222-222222222222', 'bbbb1111-1111-1111-1111-111111111111', '사용자 인터뷰 진행', '5명 인터뷰, 주요 페인포인트 도출', CURRENT_DATE - 4, 100, true, ARRAY['내부시스템', 'UX', '리서치']),
-- 3일 전
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa1111-1111-1111-1111-111111111111', '구매자 앱 화면 정의서 작성', NULL, CURRENT_DATE - 3, 60, false, ARRAY['도매플랫폼', '기획']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '22222222-2222-2222-2222-222222222222', 'bbbb2222-2222-2222-2222-222222222222', '화면 설계 초안', '메인 화면 3개 초안 완료', CURRENT_DATE - 3, 50, false, ARRAY['내부시스템', '디자인']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', NULL, NULL, '개발팀 싱크업', '기술 스택 논의, 일정 조율', CURRENT_DATE - 3, 100, true, ARRAY['회의']),
-- 2일 전
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa1111-1111-1111-1111-111111111111', '요구사항 우선순위 정리', 'MoSCoW 방법론 적용', CURRENT_DATE - 2, 100, true, ARRAY['도매플랫폼', '기획']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa2222-2222-2222-2222-222222222222', '보안 이슈 해결 방안 논의', '개발팀과 협의 완료', CURRENT_DATE - 2, 100, true, ARRAY['도매플랫폼', '보안']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '22222222-2222-2222-2222-222222222222', 'bbbb2222-2222-2222-2222-222222222222', '프로토타입 제작', NULL, CURRENT_DATE - 2, 30, false, ARRAY['내부시스템', '디자인']),
-- 1일 전
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa3333-3333-3333-3333-333333333333', '일정 지연 이슈 해결', '리소스 재배치로 해결', CURRENT_DATE - 1, 100, true, ARRAY['도매플랫폼', '커뮤니케이션']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '22222222-2222-2222-2222-222222222222', 'bbbb2222-2222-2222-2222-222222222222', '프로토타입 피드백 반영', '디자인팀 피드백 5건 반영', CURRENT_DATE - 1, 80, false, ARRAY['내부시스템', '디자인']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', NULL, NULL, '주간 회고', '이번 주 잘한 점/개선점 정리', CURRENT_DATE - 1, 100, true, ARRAY['회의']),
-- 오늘
('9b50a329-48f1-4569-b5de-c93d51d7affb', '11111111-1111-1111-1111-111111111111', 'aaaa2222-2222-2222-2222-222222222222', 'QA 시나리오 작성', NULL, CURRENT_DATE, 0, false, ARRAY['도매플랫폼', 'QA']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', '22222222-2222-2222-2222-222222222222', 'bbbb2222-2222-2222-2222-222222222222', '디자인 시스템 정리', NULL, CURRENT_DATE, 0, false, ARRAY['내부시스템', '디자인']),
('9b50a329-48f1-4569-b5de-c93d51d7affb', NULL, NULL, '스프린트 플래닝', NULL, CURRENT_DATE, 0, false, ARRAY['회의']);

-- 완료!
SELECT '✅ 더미 데이터 삽입 완료!' as status;
