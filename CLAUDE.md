
# ì¼ë§ˆì¹´ì„¸ v2 í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸

> Claude Codeê°€ ì°¸ì¡°í•˜ëŠ” í”„ë¡œì íŠ¸ ì§€ì¹¨ì„œ

---

## í”„ë¡œì íŠ¸ ê°œìš”

**ì¼ë§ˆì¹´ì„¸**: ì‚¬ìˆ˜ ì—†ëŠ” ì£¼ë‹ˆì–´ë¥¼ ìœ„í•œ ì—…ë¬´ ì„±ì¥ ì„œë¹„ìŠ¤

### í•µì‹¬ ê°€ì¹˜
> "ë§¤ì¼ ì“°ëŠ” ì—…ë¬´ ê¸°ë¡ì´ ì„±ì¥ì˜ í”¼ë“œë°±ì´ ëœë‹¤"

- **íƒ€ê²Ÿ**: ì‚¬ìˆ˜ ì—†ì´ í˜¼ì ì¼í•˜ëŠ” ì£¼ë‹ˆì–´ (ì§êµ° ë¬´ê´€ - ê°œë°œ, ê¸°íš, ë””ìì¸, ì˜ì—…, ë§ˆì¼€íŒ…, HR ë“±)
- **ë¬¸ì œ**: ë‚´ê°€ ì˜í•˜ê³  ìˆëŠ”ì§€ ëª¨ë¥´ê² ê³ , ë­˜ ë” í•´ì•¼ í•˜ëŠ”ì§€ ëª¨ë¥´ê² ìŒ
- **í•´ê²°**: ì—…ë¬´ ê¸°ë¡ + ì‚¬ê³  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ìŠ¤ìŠ¤ë¡œ ì„±ì¥ ë°©í–¥ ì°¾ê¸°

### ì„œë¹„ìŠ¤ í•µì‹¬ íë¦„
```
ì—…ë¬´ ê¸°ë¡ â†’ ì‚¬ê³  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ìŠ¤ìŠ¤ë¡œ ì ê²€ â†’ ê²½ë ¥ ì¶•ì 
```

### í•µì‹¬ ë°ì´í„° êµ¬ì¡° (3ë‹¨ê³„)
```
í”„ë¡œì íŠ¸ (ìë™ ë§¤ì¹­ or ìˆ˜ê¸° ë“±ë¡)
  â””â”€â”€ íƒœìŠ¤í¬ (ìˆ˜ê¸° ë“±ë¡)
       â””â”€â”€ ì—…ë¬´ (ìˆ˜ê¸° ë“±ë¡, ë©”ëª¨ì¥ì²˜ëŸ¼)
```

---

## ì‚¬ê³  ì²´í¬ë¦¬ìŠ¤íŠ¸ (MVP)

### ì„¤ê³„ ë°°ê²½
- AIê°€ ì—…ë¬´ ë‚´ìš©ì„ í•´ì„í•´ì„œ ì¡°ì–¸í•˜ë©´ â†’ í‹€ë¦´ ê°€ëŠ¥ì„± ë†’ìŒ
- ì§êµ°ë³„ íŠ¹í™” ì¡°ì–¸ì€ â†’ í™•ì¥ì„± ì œí•œ (IT ì™¸ ì§êµ° ì»¤ë²„ ë¶ˆê°€)
- **í•´ê²°**: ëª¨ë“  ì§êµ°ì— ì ìš© ê°€ëŠ¥í•œ "ë²”ìš© ì‚¬ê³  í”„ë ˆì„ì›Œí¬" ì œê³µ

### 5ê°€ì§€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì§ˆë¬¸
ì—…ë¬´ ì¹´ë“œ í´ë¦­ ì‹œ í‘œì‹œë˜ëŠ” ì‚¬ê³  ì ê²€ ì§ˆë¬¸:

```typescript
const THINKING_CHECKLIST = [
  { id: 'why',  icon: 'ğŸ¯', question: 'ì´ê±¸ ì™œ í•´ì•¼ í•˜ì§€?',           hint: 'ëª©ì ê³¼ ë°°ê²½' },
  { id: 'who',  icon: 'ğŸ‘¤', question: 'ê²°ê³¼ë¬¼ì„ ëˆ„ê°€ ë³´ì§€?',          hint: 'ëŒ€ìƒê³¼ ì´í•´ê´€ê³„ì' },
  { id: 'done', icon: 'âœ…', question: 'ì–´ë–»ê²Œ ë˜ë©´ ëì´ì§€?',          hint: 'ì™„ë£Œ ê¸°ì¤€' },
  { id: 'need', icon: 'ğŸ”—', question: 'ëˆ„êµ¬í•œí…Œ ë­˜ ë°›ì•„ì•¼ í•˜ì§€?',     hint: 'í•„ìš”í•œ ê²ƒë“¤' },
  { id: 'risk', icon: 'âš ï¸', question: 'ëŠ¦ì–´ì§€ë©´ ì–´ë–»ê²Œ ë˜ì§€?',        hint: 'ìš°ì„ ìˆœìœ„ì™€ ì˜í–¥' },
]
```

### íŠ¹ì§•
- **ì§êµ° ë¬´ê´€**: ê°œë°œ, ê¸°íš, ì˜ì—…, HR, ë§ˆì¼€íŒ… ë“± ëª¨ë“  ì—…ë¬´ì— ì ìš© ê°€ëŠ¥
- **AI ì˜ì¡´ ì—†ìŒ**: API í˜¸ì¶œ ì—†ì´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°”ë¡œ í‘œì‹œ
- **ì˜¤ë¥˜ ê°€ëŠ¥ì„± 0**: ì—…ë¬´ ë‚´ìš©ì„ í•´ì„í•˜ì§€ ì•ŠìŒ
- **ì‚¬ìš©ì ì£¼ë„**: ìŠ¤ìŠ¤ë¡œ ìƒê°í•˜ê²Œ ìœ ë„ (ë‹µì„ ì£¼ì§€ ì•ŠìŒ)

### í–¥í›„ í™•ì¥ ë°©í–¥ (ë””ë²¨ë¡­ í•„ìš”)
- ì—…ë¬´ ì„±ê²©ë³„ ë¶„ê¸° (ë¬¸ì„œ ì‘ì„±, íšŒì˜, ë¶„ì„ ë“±)
- ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ì§ˆë¬¸ ê°œì„ 
- AI ì½”ì¹­ (ê³ ë„í™” í›„ ì¬ë„ì… ê²€í† )

---

## ê¸°ìˆ  ìŠ¤íƒ

- **Frontend**: Next.js 16.x (App Router), React 19.x, TypeScript
- **Styling**: Tailwind CSS 4.x
- **Backend**: Supabase (PostgreSQL, Auth)
- **ë°°í¬**: ë¯¸ì •

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ilmakase.ver2/
â”œâ”€â”€ INTEGRATION-v2.md      # í”„ë¡œì íŠ¸ ê¸°íšì„œ
â”œâ”€â”€ CLAUDE.md              # ì´ íŒŒì¼ (Claude ì»¨í…ìŠ¤íŠ¸)
â”œâ”€â”€ ilmakase-v2/           # â­ ë©”ì¸ í”„ë¡œì íŠ¸ (ì—¬ê¸°ì„œ ê°œë°œ)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ (main)/
â”‚   â”‚   â”‚   â”œâ”€â”€ worklog/page.tsx    # ë°ì¼ë¦¬ ë¡œê·¸
â”‚   â”‚   â”‚   â”œâ”€â”€ projects/page.tsx   # í”„ë¡œì íŠ¸ ì•„ì¹´ì´ë¸Œ
â”‚   â”‚   â”‚   â””â”€â”€ review/page.tsx     # ì›”ê°„ íšŒê³ 
â”‚   â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ signup/page.tsx
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ projects/auto-match/route.ts
â”‚   â”‚       â”œâ”€â”€ ai-analysis/daily/route.ts
â”‚   â”‚       â”œâ”€â”€ career-doc/generate/route.ts
â”‚   â”‚       â””â”€â”€ monthly-review/route.ts
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ WorkLog/
â”‚   â”‚   â”‚   â”œâ”€â”€ DailyLogEditor.tsx  # ë©”ì¸ ì—…ë¬´ ì…ë ¥ ì—ë””í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ CalendarView.tsx    # ìº˜ë¦°ë”
â”‚   â”‚   â”‚   â”œâ”€â”€ WeeklySummary.tsx   # ì´ë²ˆ ì£¼ ìš”ì•½
â”‚   â”‚   â”‚   â””â”€â”€ DatePicker.tsx
â”‚   â”‚   â”œâ”€â”€ Review/
â”‚   â”‚   â”‚   â”œâ”€â”€ MonthlyWorkSummary.tsx  # ì›”ê°„ ì—…ë¬´ í†µê³„
â”‚   â”‚   â”‚   â”œâ”€â”€ MentorFeedback.tsx     # AI ë©˜í†  í”¼ë“œë°±
â”‚   â”‚   â”‚   â””â”€â”€ KPTReflection.tsx      # KPT íšŒê³ 
â”‚   â”‚   â”œâ”€â”€ Project/
â”‚   â”‚   â”‚   â””â”€â”€ ProjectDetailModal.tsx  # í”„ë¡œì íŠ¸ ìƒì„¸ í¸ì§‘ ëª¨ë‹¬
â”‚   â”‚   â””â”€â”€ UI/
â”‚   â”‚       â”œâ”€â”€ Button.tsx
â”‚   â”‚       â”œâ”€â”€ Card.tsx
â”‚   â”‚       â”œâ”€â”€ Input.tsx
â”‚   â”‚       â””â”€â”€ ProgressBar.tsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useDailyLog.ts
â”‚   â”‚   â”œâ”€â”€ useWorkLogs.ts          # work_logs CRUD
â”‚   â”‚   â”œâ”€â”€ useCarryOver.ts         # ë¯¸ì™„ë£Œ ì—…ë¬´ ê°€ì ¸ì˜¤ê¸°
â”‚   â”‚   â””â”€â”€ useProjects.ts
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ cache.ts                # ë©”ëª¨ë¦¬ ìºì‹œ (íƒ­ ì „í™˜ ìµœì í™”)
â”‚   â”‚   â”œâ”€â”€ parser.ts               # ì—…ë¬´ í…ìŠ¤íŠ¸ íŒŒì‹±
â”‚   â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”‚   â””â”€â”€ server.ts
â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ worklog-db/            # ê¸°ì¡´ WorkLog (ë…ë¦½ ìœ ì§€)
â””â”€â”€ ilmakase-main/         # ê¸°ì¡´ ì¼ë§ˆì¹´ì„¸ (ì°¸ê³ ìš©)
```

---

## ì—…ë¬´ ì…ë ¥ íŒŒì‹± í˜•ì‹

### í˜•ì‹
```
#í”„ë¡œì íŠ¸ëª…/ ì—…ë¬´ë‚´ìš©
```

### ì˜ˆì‹œ
```
#ë„ë§¤ í”Œë«í¼/ API ëª…ì„¸ì„œ ê²€í†        â†’ í”„ë¡œì íŠ¸: "ë„ë§¤ í”Œë«í¼"
#UI ë””ìì¸/ ë©”ì¸í˜ì´ì§€ ì‘ì—…         â†’ í”„ë¡œì íŠ¸: "UI ë””ìì¸"
#ì•±ê°œë°œ ë¡œê·¸ì¸ êµ¬í˜„                 â†’ í”„ë¡œì íŠ¸: "ì•±ê°œë°œ" (ê¸°ì¡´ ë°©ì‹ í˜¸í™˜)
```

### íŒŒì‹± ë¡œì§ (lib/parser.ts)
1. `/` êµ¬ë¶„ìê°€ ìˆìœ¼ë©´ â†’ `/` ì•ì´ í”„ë¡œì íŠ¸ëª… (ë„ì–´ì“°ê¸° ê°€ëŠ¥)
2. `/` ì—†ìœ¼ë©´ â†’ ì²« ë²ˆì§¸ ê³µë°±ê¹Œì§€ê°€ í”„ë¡œì íŠ¸ëª… (ê¸°ì¡´ ë°©ì‹)

### í”„ë¡œì íŠ¸ ìë™ ìƒì„± (DailyLogEditor)
- ì €ì¥ ì‹œ íŒŒì‹±ëœ í”„ë¡œì íŠ¸ëª…ì´ ê¸°ì¡´ í”„ë¡œì íŠ¸ì— ì—†ìœ¼ë©´ ìë™ ìƒì„±
- `auto_matched: true`ë¡œ í‘œì‹œë¨
- í”„ë¡œì íŠ¸ í˜ì´ì§€ì—ì„œ ìƒì„¸ ì •ë³´(ì—­í• , ì„±ê³¼ ë“±) ì…ë ¥ ê°€ëŠ¥

---

## ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### DailyLogEditor
- ì™¼ìª½: í…ìŠ¤íŠ¸ ì…ë ¥ (ë©”ëª¨ì¥ ë°©ì‹)
- ì˜¤ë¥¸ìª½: íŒŒì‹±ëœ ì—…ë¬´ ëª©ë¡ (ì²´í¬ë°•ìŠ¤, ì§„ì²™ë„)
- ì—…ë¬´ ì¹´ë“œ í´ë¦­ ì‹œ: ì‚¬ê³  ì²´í¬ë¦¬ìŠ¤íŠ¸ 5ê°€ì§€ ì§ˆë¬¸ í‘œì‹œ
- ë¯¸ì™„ë£Œ ì—…ë¬´ ì•„ì½”ë””ì–¸ (ìµœê·¼ 7ì¼ ë¯¸ì™„ë£Œ ì—…ë¬´ í‘œì‹œ)
- ì˜¤ëŠ˜ ì—…ë¬´ ì§„ì²™ë„ (ê°œë³„ ì§„ì²™ë„ í•©ì‚° %)
- **ì„¸ë¶€ ì—…ë¬´ ê¸°ëŠ¥**: ì—…ë¬´ë³„ ì²´í¬ë°•ìŠ¤ ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ ê°€ëŠ¥
  - ì„¸ë¶€ ì—…ë¬´ ì™„ë£Œ ì‹œ ì§„ì²™ë„ ìë™ ê³„ì‚° (ìµœëŒ€ 90%)
  - ë©”ì¸ ì²´í¬ë°•ìŠ¤ ì™„ë£Œ ì‹œ ë‚˜ë¨¸ì§€ 10% ë°˜ì˜
  - ì„¸ë¶€ ì—…ë¬´ ì—†ìœ¼ë©´ ê¸°ì¡´ ìˆ˜ë™ ì§„ì²™ë„ ë°©ì‹ ìœ ì§€

### WeeklySummary
- ì´ë²ˆ ì£¼ ìš”ì•½ (ì „ì²´/ì™„ë£Œ/ì™„ë£Œìœ¨)
- ì¼ë³„ ì§„ì²™ë„ ë°” ì°¨íŠ¸

### CalendarView
- ì›”ë³„ ìº˜ë¦°ë”
- ë‚ ì§œë³„ ì—…ë¬´ ì™„ë£Œìœ¨ í‘œì‹œ (ìƒ‰ìƒìœ¼ë¡œ)

### ProjectDetailModal
- í”„ë¡œì íŠ¸ ìƒì„¸ ì •ë³´ í¸ì§‘ ëª¨ë‹¬
- ê¸°ë³¸ ì •ë³´: í”„ë¡œì íŠ¸ëª…, í•œ ì¤„ ìš”ì•½, ì„¤ëª…
- ì—­í• /íŒ€: ë‹´ë‹¹ ì—­í• , íŒ€ ê·œëª¨
- ê¸°ìˆ  ìŠ¤íƒ (ì‰¼í‘œë¡œ êµ¬ë¶„)
- ë‹´ë‹¹ ì—…ë¬´/ê¸°ì—¬ë„
- ì„±ê³¼/ê²°ê³¼ (ì •ëŸ‰ì /ì •ì„±ì  êµ¬ë¶„)

---

## DB í…Œì´ë¸” êµ¬ì¡° (Supabase)

### daily_logs
- ì¼ë³„ ë¡œê·¸ ì›ë³¸ í…ìŠ¤íŠ¸ ì €ì¥
- `raw_content`, `parsed_tasks_count`, `completion_rate`

### work_logs
- ê°œë³„ ì—…ë¬´ (íŒŒì‹±ëœ ê²°ê³¼)
- `content`, `detail`, `progress`, `is_completed`, `keywords[]`
- `due_date` (DATE) - ë§ˆê°ì¼ (nullable)
- `subtasks` (JSONB) - ì„¸ë¶€ ì—…ë¬´ ëª©ë¡ `[{id, content, is_completed}]`

### projects
- í”„ë¡œì íŠ¸ ëª©ë¡
- ê¸°ë³¸: `name`, `status`, `auto_matched`, `start_date`, `end_date`, `keywords[]`
- ê²½ë ¥ê¸°ìˆ ì„œìš©: `role`, `team_size`, `tech_stack[]`, `outcomes` (JSONB), `contribution`, `summary`

---

## ê°œë°œ ì»¨ë²¤ì…˜

### ìŠ¤íƒ€ì¼ë§
- Tailwind CSS ì‚¬ìš©
- primary ìƒ‰ìƒ: ì˜¤ë Œì§€ ê³„ì—´ (`primary-500`, `primary-600`)
- ì¹´ë“œ: `bg-white rounded-2xl border border-gray-200 shadow-sm`
- ë²„íŠ¼: `rounded-xl` ì‚¬ìš©

### ìƒíƒœ ê´€ë¦¬
- ì„œë²„ ìƒíƒœ: Supabase ì§ì ‘ í˜¸ì¶œ (hooksë¡œ ì¶”ìƒí™”)
- ë¡œì»¬ ìƒíƒœ: useState
- ìˆ˜ë™ ì €ì¥: ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œì—ë§Œ DB ì €ì¥ (ìë™ ì €ì¥ ì œê±°)

### ì¸ì¦
- Supabase Auth ì‚¬ìš©
- `useAuth()` í›…ìœ¼ë¡œ user ì •ë³´ ì ‘ê·¼

---

## ë°ì´í„° ìºì‹± ì „ëµ

### ìºì‹œ ì‹œìŠ¤í…œ (`lib/cache.ts`)
```typescript
// ì‹±ê¸€í†¤ ë©”ëª¨ë¦¬ ìºì‹œ
export const dataCache = new MemoryCache()

// ìºì‹œ í‚¤ ìƒì„± í—¬í¼
export const cacheKeys = {
  dailyLog: (userId: string, date: string) => `dailyLog:${userId}:${date}`,
  workLogs: (userId: string, date: string) => `workLogs:${userId}:${date}`,
  weeklyStats: (userId: string, weekStart: string) => `weeklyStats:${userId}:${weekStart}`,
  projects: (userId: string) => `projects:${userId}`,
  incompleteTasks: (userId: string, date: string) => `incomplete:${userId}:${date}`,
}
```

### ìºì‹± ì ìš© íŒ¨í„´
íƒ­ ì „í™˜ ì‹œ ë¡œë”© ì—†ì´ ì¦‰ì‹œ í‘œì‹œí•˜ê¸° ìœ„í•œ ì „ëµ:

```typescript
// 1. ì´ˆê¸°ê°’ìœ¼ë¡œ ìºì‹œ ë°ì´í„° ì‚¬ìš©
const [data, setData] = useState(() => {
  return dataCache.getImmediate<T>(cacheKey) || defaultValue
})

// 2. fetch ì‹œ ìºì‹œ ë¨¼ì € í‘œì‹œ â†’ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìµœì‹  ë°ì´í„° ë¡œë“œ
const fetchData = async () => {
  const cached = dataCache.getImmediate<T>(cacheKey)
  if (cached) {
    setData(cached)
    setLoading(false)
  }

  // ë„¤íŠ¸ì›Œí¬ ìš”ì²­
  const freshData = await supabase.from('table').select('*')

  // ìºì‹œ ê°±ì‹ 
  dataCache.set(cacheKey, freshData)
  setData(freshData)
}

// 3. ì €ì¥ ì‹œ ìºì‹œë„ í•¨ê»˜ ê°±ì‹ 
const saveData = async (newData) => {
  await supabase.from('table').upsert(newData)
  dataCache.set(cacheKey, newData)  // ìºì‹œ ê°±ì‹ 
}
```

### ì ìš©ëœ í›…/ì»´í¬ë„ŒíŠ¸
| íŒŒì¼ | ìºì‹œ í‚¤ | ì„¤ëª… |
|------|---------|------|
| `useDailyLog.ts` | `dailyLog:{userId}:{date}` | ì¼ë³„ ë¡œê·¸ ì›ë³¸ í…ìŠ¤íŠ¸ |
| `useWorkLogs.ts` | `workLogs:{userId}:{date}` | íŒŒì‹±ëœ ì—…ë¬´ ëª©ë¡ |
| `WeeklySummary.tsx` | `weeklyStats:{userId}:{weekStart}` | ì£¼ê°„ í†µê³„ |

### ì»´í¬ë„ŒíŠ¸ ê°„ ë°ì´í„° ì—°ë™
ì—…ë¬´ ëª©ë¡ ë³€ê²½ ì‹œ WeeklySummary ì¦‰ì‹œ ê°±ì‹ :

```typescript
// worklog/page.tsx
const [refreshKey, setRefreshKey] = useState(0)
const handleWorkLogsUpdate = () => setRefreshKey(prev => prev + 1)

<DailyLogEditor onSave={handleWorkLogsUpdate} />
<WeeklySummary refreshKey={refreshKey} />

// WeeklySummary.tsx
useEffect(() => {
  if (refreshKey > 0) {
    loadWeeklyStats(true)  // skipCache=trueë¡œ ìƒˆ ë°ì´í„° ë¡œë“œ
  }
}, [refreshKey])
```

### ì´ˆê¸° ë¡œë”© ìµœì í™”
ì²« ë¡œë”© í›„ íƒ­ ì „í™˜ ì‹œ "ë¡œë”© ì¤‘" í‘œì‹œ ë°©ì§€:

```typescript
const [initialLoadDone, setInitialLoadDone] = useState(false)

// ì´ˆê¸° ë¡œë”© ì‹œì—ë§Œ ë¡œë”© í™”ë©´ í‘œì‹œ
if (!initialLoadDone && loading) {
  return <div>ë¡œë”© ì¤‘...</div>
}
```

### í”„ë¡œì íŠ¸/íšŒê³  íƒ­ ì ìš© ì‹œ ì°¸ê³ ì‚¬í•­
1. `cacheKeys`ì— ìƒˆ í‚¤ ì¶”ê°€
2. í•´ë‹¹ í›…ì—ì„œ ìºì‹œ íŒ¨í„´ ì ìš©
3. ë°ì´í„° ë³€ê²½ ì‹œ ê´€ë ¨ ìºì‹œ ê°±ì‹ 
4. `initialLoadDone` íŒ¨í„´ìœ¼ë¡œ ì²« ë¡œë”©ë§Œ í‘œì‹œ

---

## í˜„ì¬ ì§„í–‰ ìƒí™© (2026-02-06)

### ì™„ë£Œ
- [x] í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¸íŒ… (ilmakase-v2)
- [x] ì¸ì¦ (ë¡œê·¸ì¸/íšŒì›ê°€ì…)
- [x] ë°ì¼ë¦¬ ë¡œê·¸ ì—ë””í„° (í…ìŠ¤íŠ¸ ì…ë ¥ + íŒŒì‹±)
- [x] ìº˜ë¦°ë” ë·°
- [x] ì´ë²ˆ ì£¼ ìš”ì•½ (WeeklySummary)
- [x] ì—…ë¬´ CRUD (ì²´í¬ë°•ìŠ¤, ì§„ì²™ë„, ìƒì„¸ë‚´ìš©, ì‚­ì œ)
- [x] ë¯¸ì™„ë£Œ ì—…ë¬´ ì•„ì½”ë””ì–¸ (ìµœê·¼ 7ì¼)
- [x] í”„ë¡œì íŠ¸ëª… ë„ì–´ì“°ê¸° ì§€ì› (`/` êµ¬ë¶„ì)
- [x] ë©”ëª¨ë¦¬ ìºì‹± ì‹œìŠ¤í…œ (`lib/cache.ts`)
- [x] íƒ­ ì „í™˜ ì‹œ ë¡œë”© ì—†ì´ ì¦‰ì‹œ í‘œì‹œ
- [x] ì—…ë¬´ ë³€ê²½ ì‹œ WeeklySummary ì¦‰ì‹œ ë°˜ì˜
- [x] **í”„ë¡œì íŠ¸ ìë™ ìƒì„±** - ì—…ë¬´ ê¸°ë¡ ì‹œ ìƒˆ í”„ë¡œì íŠ¸ëª… ê°ì§€í•˜ë©´ ìë™ ìƒì„±
- [x] **í”„ë¡œì íŠ¸ ê²½ë ¥ê¸°ìˆ ì„œìš© í•„ë“œ** - role, team_size, tech_stack, outcomes, contribution, summary
- [x] **í”„ë¡œì íŠ¸ ìƒì„¸ í¸ì§‘ UI** - í”„ë¡œì íŠ¸ ì¹´ë“œ í´ë¦­ ì‹œ ëª¨ë‹¬ë¡œ ìƒì„¸ ì •ë³´ ì…ë ¥
- [x] **ì‚¬ê³  ì²´í¬ë¦¬ìŠ¤íŠ¸** - AI ì½”ì¹­ ëŒ€ì‹  ë²”ìš© 5ê°€ì§€ ì§ˆë¬¸ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œ ì ê²€ (í•­ìƒ í‘œì‹œ)
- [x] **ë©”ëª¨ ê¸°ëŠ¥ ê°œì„ ** - ì €ì¥/ì·¨ì†Œ ë²„íŠ¼, ì‚­ì œ í™•ì¸, ì‹¤ìˆ˜ ë°©ì§€
- [x] **ë°ì¼ë¦¬ ë¡œê·¸ UI ì™„ë£Œ** - í…Œë‘ë¦¬/í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼ ì •ë¦¬
- [x] **ê²½ë ¥ê¸°ìˆ ì„œ í”„ë¡¬í”„íŠ¸ ê°œì„ ** (2026-02-05)
- [x] **ì„¸ë¶€ ì—…ë¬´(Subtasks) ê¸°ëŠ¥** (2026-02-05)
  - ì—…ë¬´ë³„ ì„¸ë¶€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¶”ê°€/í† ê¸€/ì‚­ì œ
  - ì§„ì²™ë„ ìë™ ê³„ì‚°: (ì™„ë£Œ ì„¸ë¶€ì—…ë¬´/ì „ì²´) Ã— 90% + (ë©”ì¸ ì™„ë£Œ ì‹œ 10%)
  - ê²½ë ¥ê¸°ìˆ ì„œ ìƒì„± ì‹œ ì„¸ë¶€ ì—…ë¬´ë¥¼ AI ë§¥ë½ íŒŒì•…ìš©ìœ¼ë¡œ í™œìš©
- [x] **ë°ì´í„° ë¡œë”© ìµœì í™”** (2026-02-06)
  - useCarryOver ìºì‹± ì¶”ê°€ (5ë¶„ TTL)
  - ë³‘ë ¬ ë°ì´í„° ë¡œë”© (log + carryOver ë™ì‹œ ë¡œë“œ)
  - ì‹¤ì‹œê°„ íŒŒì‹± ë²„ê·¸ ìˆ˜ì • (hasInitialized ref íŒ¨í„´)
- [x] **ë¯¸ì™„ë£Œ ì—…ë¬´ ì„¸ë¶€ì—…ë¬´/ë©”ëª¨ ë³µì‚¬** (2026-02-06)
  - ë¯¸ì™„ë£Œ ì—…ë¬´ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì„¸ë¶€ì—…ë¬´/ë©”ëª¨ í•¨ê»˜ ë³µì‚¬
  - useCarryOverì—ì„œ IncompleteTaskData ë°˜í™˜ (detail, subtasks í¬í•¨)
  - syncFromParsedTasksì— carryOverData íŒŒë¼ë¯¸í„° ì¶”ê°€
- [x] **ê²½ë ¥ê¸°ìˆ ì„œ ìƒì„± ê°œì„ ** (2026-02-06)
  - maxOutputTokens 1024 â†’ 4096 ì¦ê°€
  - JSON ì¶”ì¶œ ë¡œì§ ê°•í™” (ì—¬ëŸ¬ íŒ¨í„´ ì‹œë„, ì—ëŸ¬ ë¡œê¹…)
  - í”„ë¡¬í”„íŠ¸ ì „ë©´ ê°œì„ : "ì—…ë¬´ ë‚˜ì—´ ê¸ˆì§€, ì—­í• /ì„±ê³¼ë¡œ ì¬êµ¬ì„±" ì›ì¹™
  - ì„¸ë¶€ì—…ë¬´/ë©”ëª¨ë¥¼ ì ê·¹ í™œìš©í•˜ì—¬ ê°€ì¹˜ ì¶”ì¶œí•˜ë„ë¡ ì§€ì‹œ
- [x] **ì›”ê°„ íšŒê³  í˜ì´ì§€ ì „ë©´ ê°œí¸** (2026-02-09)
  - MonthlyWorkSummary, MentorFeedback, KPTReflection ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
  - AI ë©˜í†  í”¼ë“œë°± ìƒì„± (Gemini API)
  - KPT íšŒê³  ì €ì¥/í¸ì§‘ ê¸°ëŠ¥
  - ì›”ë³„ ì—…ë¬´ í†µê³„ ìš”ì•½
- [x] **ì—…ë¬´ ì¹´ë“œ ë§ˆê°ì¼(ë°ë“œë¼ì¸) ê¸°ëŠ¥** (2026-02-09)
  - work_logs í…Œì´ë¸”ì— due_date ì»¬ëŸ¼ ì¶”ê°€
  - ì¹´ë“œ í—¤ë”ì— ë§ˆê°ì¼ ë±ƒì§€ (D-day, ì§€ë‚¨ ê²½ê³ , ë‚ ì§œ í‘œì‹œ)
  - ìƒì„¸ ì˜ì—­ì—ì„œ ë‚ ì§œ ì„¤ì •/í•´ì œ
  - ë¯¸ì™„ë£Œ ì—…ë¬´ ê°€ì ¸ì˜¤ê¸° ì‹œ ë§ˆê°ì¼ë„ í•¨ê»˜ ë³µì‚¬
- [x] **ë©”ëª¨ ì¤„ë°”ê¿ˆ ì ìš©** (2026-02-09)
  - whitespace-pre-wrap ì¶”ê°€

### ì§„í–‰ ì˜ˆì •
- [ ] (ì¶”í›„) AI ì½”ì¹­ ê³ ë„í™” í›„ ì¬ë„ì… ê²€í† 

---

## ê²½ë ¥ê¸°ìˆ ì„œ ìƒì„± ê¸°ëŠ¥

### í”Œë¡œìš° (íšŒì‚¬ ë‹¨ìœ„)
```
[ê²½ë ¥ê¸°ìˆ ì„œ ìƒì„±] (/career-doc)
    â†“
1. íšŒì‚¬ ì„ íƒ/ì¶”ê°€ (CompanyStep)
   - íšŒì‚¬ëª…, ì¬ì§ê¸°ê°„, ì§ë¬´/ì§ê¸‰
    â†“
2. í”„ë¡œì íŠ¸ ì„ íƒ (ProjectSelectStep)
   - í•´ë‹¹ íšŒì‚¬ì—ì„œ í•œ í”„ë¡œì íŠ¸ë“¤ ì²´í¬ë°•ìŠ¤ ì„ íƒ
    â†“
3. ìš°ì„ ìˆœìœ„ ì¡°ì • (PriorityStep)
   - AIê°€ "ì´ì§ì— ì–´í•„ë˜ëŠ” í”„ë¡œì íŠ¸" ì¶”ì²œ
   - í•µì‹¬/ë³´í†µ/ê°„ëµ 3ë‹¨ê³„ë¡œ ë¹„ì¤‘ ì¡°ì •
    â†“
4. ê²½ë ¥ê¸°ìˆ ì„œ ìƒì„± & í¸ì§‘ (ResultStep)
   - íšŒì‚¬ ì „ì²´ ê²½ë ¥ê¸°ìˆ ì„œ ìƒì„±
   - ì§ì ‘ ìˆ˜ì • ê°€ëŠ¥
   - ë³µì‚¬í•˜ê¸°
```

### ê´€ë ¨ íŒŒì¼
- `app/(main)/career-doc/page.tsx` - ë©”ì¸ í˜ì´ì§€
- `components/CareerDoc/` - ìŠ¤í…ë³„ ì»´í¬ë„ŒíŠ¸
- `hooks/useCompanies.ts` - íšŒì‚¬ CRUD
- `api/career-doc/generate-by-company/route.ts` - ê²½ë ¥ê¸°ìˆ ì„œ ìƒì„± API
- `api/career-doc/analyze-priority/route.ts` - ìš°ì„ ìˆœìœ„ ë¶„ì„ API

### DB ë§ˆì´ê·¸ë ˆì´ì…˜ (Supabase SQL Editorì—ì„œ ì‹¤í–‰)
```bash
database/migrate-companies.sql    # íšŒì‚¬ í…Œì´ë¸”
database/migrate-subtasks.sql     # ì„¸ë¶€ ì—…ë¬´ ì»¬ëŸ¼ (work_logs.subtasks)
# work_logs.due_date: ALTER TABLE work_logs ADD COLUMN due_date DATE DEFAULT NULL;
```

### í”„ë¡¬í”„íŠ¸ ì„¤ê³„ ì›ì¹™ (ì ìš© ì™„ë£Œ)
1. **ì§€ì–´ë‚´ì§€ ë§ ê²ƒ** - ì—†ëŠ” ë°ì´í„°ëŠ” ìƒëµ
2. **AIìŠ¤ëŸ¬ìš´ í‘œí˜„ ê¸ˆì§€** - "í˜ì‹ ì ì¸", "íš¨ìœ¨ì ì¸ ì—…ë¬´ ìˆ˜í–‰" ë“±
3. **ì„¸ë¶€ ì—…ë¬´ í™œìš©** - AIê°€ ë§¥ë½ íŒŒì•…ìš©ìœ¼ë¡œ ì°¸ê³ , ì¶œë ¥ì—ëŠ” í”„ë¡œì íŠ¸ ë‹¨ìœ„ ìš”ì•½
4. **ì¢‹ì€ ì˜ˆì‹œ few-shot** - ì•„ë˜ ì˜ˆì‹œ ì°¸ê³ 

---

## ì¢‹ì€ ê²½ë ¥ê¸°ìˆ ì„œ ì‘ì„± ê°€ì´ë“œ

### ì˜ˆì‹œ 1: ê°œë°œì (êµ¬ì²´ì  ìˆ˜ì¹˜ + ì„íŒ©íŠ¸)
```
ABCí…Œí¬ | ë°±ì—”ë“œ ê°œë°œì | 2022.03 ~ 2024.01

[ì»¤ë¨¸ìŠ¤ í”Œë«í¼ ì£¼ë¬¸/ê²°ì œ ì‹œìŠ¤í…œ ì¬êµ¬ì¶•]
- ë ˆê±°ì‹œ ëª¨ë†€ë¦¬ì‹ â†’ MSA ì „í™˜, ì£¼ë¬¸ ì²˜ë¦¬ TPS 3ë°° í–¥ìƒ (200 â†’ 600)
- Redis ìºì‹± ë„ì…ìœ¼ë¡œ ìƒí’ˆ ì¡°íšŒ ì‘ë‹µì†ë„ 70% ê°œì„  (avg 800ms â†’ 240ms)
- ê²°ì œ ì‹¤íŒ¨ìœ¨ 5.2% â†’ 1.8%ë¡œ ê°ì†Œ (PGì‚¬ ì—°ë™ ë¡œì§ ê°œì„ )

[ì‹¤ì‹œê°„ ì¬ê³  ê´€ë¦¬ ì‹œìŠ¤í…œ]
- Kafka ê¸°ë°˜ ì´ë²¤íŠ¸ ë“œë¦¬ë¸ ì•„í‚¤í…ì²˜ ì„¤ê³„ ë° êµ¬í˜„
- ì¬ê³  ë¶ˆì¼ì¹˜ ì´ìŠˆ ì›” í‰ê·  47ê±´ â†’ 3ê±´ìœ¼ë¡œ ê°ì†Œ
```

### ì˜ˆì‹œ 2: ê¸°íšì (ë¬¸ì œâ†’í•´ê²°â†’ê²°ê³¼)
```
XYZì»¤ë¨¸ìŠ¤ | ì„œë¹„ìŠ¤ ê¸°íšì | 2021.06 ~ 2023.08

[ì•± ì „í™˜ìœ¨ ê°œì„  í”„ë¡œì íŠ¸]
ë¬¸ì œ: ì¥ë°”êµ¬ë‹ˆâ†’ê²°ì œ ì „í™˜ìœ¨ 12%ë¡œ ì—…ê³„ í‰ê· (18%) ëŒ€ë¹„ ì €ì¡°
í•´ê²°: ì‚¬ìš©ì ì´íƒˆ êµ¬ê°„ ë¶„ì„ â†’ ê²°ì œ ë‹¨ê³„ 3ë‹¨ê³„â†’1ë‹¨ê³„ ê°„ì†Œí™”
ê²°ê³¼: ì „í™˜ìœ¨ 12%â†’21%, ì›” ê±°ë˜ì•¡ +8ì–µì›

[ë¦¬ë·° ì‹œìŠ¤í…œ ë¦¬ë‰´ì–¼]
- í¬í† ë¦¬ë·° ì‘ì„±ë¥  200% ì¦ê°€ (ì¸ì„¼í‹°ë¸Œ êµ¬ì¡° ê°œí¸)
- ë¦¬ë·° ì‹ ë¢°ë„ ì ìˆ˜ ë„ì…ìœ¼ë¡œ êµ¬ë§¤ ê²°ì • ì‹œê°„ ë‹¨ì¶•
```

### ì˜ˆì‹œ 3: ë§ˆì¼€í„° (ìº í˜ì¸ ì„±ê³¼ ì¤‘ì‹¬)
```
ë¸Œëœë“œë§ˆì¼€íŒ…íŒ€ | í¼í¬ë¨¼ìŠ¤ ë§ˆì¼€í„° | 2022.01 ~ í˜„ì¬

[2023 ì—¬ë¦„ ì‹œì¦Œ ìº í˜ì¸]
- ì˜ˆì‚° 5ì²œë§Œì›, ROAS 380% ë‹¬ì„± (ëª©í‘œ 300%)
- ë©”íƒ€/êµ¬ê¸€ ë¯¹ìŠ¤ ìµœì í™”ë¡œ CPA 32% ì ˆê°
- ì‹ ê·œ ê³ ê° íšë“ 1.2ë§Œëª…, ì¬êµ¬ë§¤ìœ¨ 28%

[CRM ìë™í™” êµ¬ì¶•]
- ì´íƒˆ ì˜ˆì¸¡ ëª¨ë¸ ê¸°ë°˜ ë¦¬í…ì…˜ ìº í˜ì¸ ì„¤ê³„
- íœ´ë©´ ê³ ê° ì¬í™œì„±í™”ìœ¨ 15% â†’ 34%
```

### ì¢‹ì€ í‘œí˜„ vs ë‚˜ìœ í‘œí˜„
| ì¢‹ì€ ì˜ˆ | ë‚˜ìœ ì˜ˆ |
|---------|---------|
| "ì‘ë‹µì†ë„ 800ms â†’ 240ms" | "ì„±ëŠ¥ì„ ëŒ€í­ ê°œì„ í•¨" |
| "ì „í™˜ìœ¨ 12% â†’ 21%" | "ì „í™˜ìœ¨ í–¥ìƒì— ê¸°ì—¬" |
| "ì›” ê±°ë˜ì•¡ +8ì–µì›" | "ë§¤ì¶œ ì¦ëŒ€ì— ê¸°ì—¬í•¨" |
| "ì¬ê³  ë¶ˆì¼ì¹˜ 47ê±´â†’3ê±´" | "ì‹œìŠ¤í…œ ì•ˆì •í™” ë‹´ë‹¹" |

### AI í”„ë¡¬í”„íŠ¸ ê¸ˆì§€ í‘œí˜„
- "í˜ì‹ ì ì¸", "íš¨ìœ¨ì ì¸", "ì›í™œí•œ"
- "~ì— ê¸°ì—¬í•¨", "~ë¥¼ ë‹´ë‹¹í•˜ë©°"
- "ì ê·¹ì ìœ¼ë¡œ ì°¸ì—¬", "ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰"
- "ë‹¤ì–‘í•œ ê²½í—˜", "í­ë„“ì€ ì´í•´"

---

## ê¸°ìˆ  ë¶€ì±„ (ì ì§„ì  ê°œì„  í•„ìš”)

### DB í•„ë“œ ë„¤ì´ë° ë³€í™˜ (snake_case â†’ camelCase)

**í˜„ì¬ ìƒíƒœ**: DB í•„ë“œ(`is_completed`, `user_id` ë“±)ë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê·¸ëŒ€ë¡œ ì‚¬ìš© ì¤‘

**ëª©í‘œ ìƒíƒœ**: ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” camelCase ì‚¬ìš©, í›…ì—ì„œ ë§¤í•‘ ì²˜ë¦¬

**ì ìš© ì‹œì ** (ì´ë•Œë§Œ ë³€í™˜ ì‘ì—…):
1. âœ… ìƒˆ í›…/ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ ë•Œ â†’ ì²˜ìŒë¶€í„° camelCaseë¡œ
2. âœ… ê¸°ì¡´ íŒŒì¼ ë²„ê·¸ ìˆ˜ì •í•  ë•Œ â†’ í•´ë‹¹ íŒŒì¼ë§Œ ë³€í™˜
3. âŒ ì¼ë¶€ëŸ¬ ë¦¬íŒ©í† ë§í•˜ëŸ¬ ê°€ì§€ ì•ŠìŒ

**ë§¤í¼ ìœ í‹¸ë¦¬í‹°**: `lib/mappers.ts` (ê¸°ë°˜ ì™„ë£Œ)
```typescript
// í›…ì—ì„œ ì‚¬ìš© ì˜ˆì‹œ
import { mapWorkLog, type WorkLog } from '@/lib/mappers'

const { data } = await supabase.from('work_logs').select('*')
const workLogs: WorkLog[] = data.map(mapWorkLog)  // snake â†’ camel ë³€í™˜

// ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©
task.isCompleted  // camelCase
```

**ë³€í™˜ ì™„ë£Œëœ íŒŒì¼**:
- `lib/mappers.ts` - WorkLog, DailyLog ë§¤í¼ (ê¸°ë°˜)
- `hooks/useWorkLogs.ts` - WorkLog CRUD (2026-02-06)
- `components/WorkLog/DailyLogEditor.tsx` - workLog í•„ë“œ camelCase ì‚¬ìš© (2026-02-06)

---

## DB íƒ€ì… ê´€ë¦¬

### íƒ€ì… ìë™ ìƒì„± (Supabase CLI)
`types/database.ts`ëŠ” ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤. DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ í›„ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì¬ìƒì„±:

```bash
cd ilmakase-v2
npx supabase gen types typescript --project-id tghwiknmkymgejzwvfrz > types/database.ts
```

> ì‹¤í–‰ ì‹œ `SUPABASE_ACCESS_TOKEN` í™˜ê²½ë³€ìˆ˜ í•„ìš” (ì‰˜ í”„ë¡œí•„ì— ì„¤ì •í•˜ê±°ë‚˜ ì¸ë¼ì¸ìœ¼ë¡œ ì „ë‹¬)

### íƒ€ì… ì²´í¬
ì»¤ë°‹ ì „ì— ë°˜ë“œì‹œ ì‹¤í–‰:

```bash
npm run typecheck
```

### ì£¼ì˜ì‚¬í•­
- `types/database.ts`ë¥¼ ìˆ˜ë™ìœ¼ë¡œ í¸ì§‘í•˜ë©´ ë‹¤ìŒ gen types ì‹œ ë®ì–´ì”Œì›Œì§
- DBì—ì„œ nullableì¸ í•„ë“œëŠ” ì½”ë“œì—ì„œ `?? ê¸°ë³¸ê°’` ìœ¼ë¡œ ì²˜ë¦¬ (ex: `db.progress ?? 0`)
- `@supabase/supabase-js` ë²„ì „ ì—…ë°ì´íŠ¸ í›„ì—ë„ `npm run typecheck`ë¡œ ê¹¨ì§€ëŠ” ê³³ í™•ì¸

---

## ì‹¤í–‰ ë°©ë²•

```bash
cd ilmakase-v2
npm run dev
# http://localhost:3001 (3000 ì‚¬ìš© ì¤‘ì´ë©´)
```

---

## ì°¸ê³  íŒŒì¼

- `INTEGRATION-v2.md`: ìƒì„¸ ê¸°íšì„œ, í™”ë©´ ì„¤ê³„, ì›Œí¬í”Œë¡œìš°
- `worklog-db/`: ê¸°ì¡´ WorkLog ì½”ë“œ (UI ì°¸ê³ ìš©)
